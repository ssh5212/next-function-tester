/* ===== 공통 토큰 ===== */
.pixel-wrap {
    --u: 8px; /* 계단 한 칸 크기(px) */
    --b: 3px; /* 테두리 두께(px) */
    --bg: rgba(0, 0, 0, 0.6); /* 안쪽 패널 배경 */
    --fg: #fff; /* 테두리/텍스트 색 */
    --pad: 16px 24px; /* 내부 패딩 */

    display: inline-block;
    background: var(--fg); /* “굵은 테두리” 효과 */
    padding: var(--b);
    image-rendering: pixelated;
}

.pixel-panel {
    background: var(--bg);
    padding: var(--pad);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.12);
    transform: translateZ(0); /* 일부 브라우저 clip-path glitch 회피 */
}

.pixel-wrap .pixel-panel,
.pixel-wrap {
    will-change: clip-path;
}

/* ===== 단일 코너 4종 ===== */
/* tl */
.pixel-wrap.tl,
.pixel-wrap.tl .pixel-panel {
    clip-path: polygon(
        0 calc(100% - calc(5 * var(--u))),
        var(--u) calc(100% - calc(5 * var(--u))),
        var(--u) calc(100% - calc(4 * var(--u))),
        calc(2 * var(--u)) calc(100% - calc(4 * var(--u))),
        calc(2 * var(--u)) calc(100% - calc(3 * var(--u))),
        calc(3 * var(--u)) calc(100% - calc(3 * var(--u))),
        calc(3 * var(--u)) calc(100% - calc(2 * var(--u))),
        calc(4 * var(--u)) calc(100% - calc(2 * var(--u))),
        calc(4 * var(--u)) calc(100% - var(--u)),
        calc(5 * var(--u)) calc(100% - var(--u)),
        calc(5 * var(--u)) 100%,
        100% 100%,
        100% 0,
        0 0
    );
}

/* tr */
.pixel-wrap.tr,
.pixel-wrap.tr .pixel-panel {
    clip-path: polygon(
        0 100%,
        0 0,
        calc(100% - calc(5 * var(--u))) 0,
        calc(100% - calc(5 * var(--u))) var(--u),
        calc(100% - calc(4 * var(--u))) var(--u),
        calc(100% - calc(4 * var(--u))) calc(2 * var(--u)),
        calc(100% - calc(3 * var(--u))) calc(2 * var(--u)),
        calc(100% - calc(3 * var(--u))) calc(3 * var(--u)),
        calc(100% - calc(2 * var(--u))) calc(3 * var(--u)),
        calc(100% - calc(2 * var(--u))) calc(4 * var(--u)),
        calc(100% - var(--u)) calc(4 * var(--u)),
        calc(100% - var(--u)) calc(5 * var(--u)),
        100% calc(5 * var(--u)),
        100% 100%
    );
}

/* bl */
.pixel-wrap.bl,
.pixel-wrap.bl .pixel-panel {
    clip-path: polygon(
        0 0,
        calc(5 * var(--u)) 0,
        calc(5 * var(--u)) var(--u),
        calc(4 * var(--u)) var(--u),
        calc(4 * var(--u)) calc(2 * var(--u)),
        calc(3 * var(--u)) calc(2 * var(--u)),
        calc(3 * var(--u)) calc(3 * var(--u)),
        calc(2 * var(--u)) calc(3 * var(--u)),
        calc(2 * var(--u)) calc(4 * var(--u)),
        var(--u) calc(4 * var(--u)),
        var(--u) calc(5 * var(--u)),
        0 calc(5 * var(--u)),
        0 100%,
        100% 100%,
        100% 0
    );
}

/* br */
.pixel-wrap.br,
.pixel-wrap.br .pixel-panel {
    clip-path: polygon(
        0 0,
        100% 0,
        100% calc(100% - calc(5 * var(--u))),
        calc(100% - var(--u)) calc(100% - calc(5 * var(--u))),
        calc(100% - var(--u)) calc(100% - calc(4 * var(--u))),
        calc(100% - calc(2 * var(--u))) calc(100% - calc(4 * var(--u))),
        calc(100% - calc(2 * var(--u))) calc(100% - calc(3 * var(--u))),
        calc(100% - calc(3 * var(--u))) calc(100% - calc(3 * var(--u))),
        calc(100% - calc(3 * var(--u))) calc(100% - calc(2 * var(--u))),
        calc(100% - calc(4 * var(--u))) calc(100% - calc(2 * var(--u))),
        calc(100% - calc(4 * var(--u))) calc(100% - var(--u)),
        calc(100% - calc(5 * var(--u))) calc(100% - var(--u)),
        calc(100% - calc(5 * var(--u))) 100%,
        0 100%
    );
}

/* ===== 대각 프리셋 2종 & 전체 1종 ===== */
/* diag_l : 왼쪽상 ↘ 오른쪽하 (tl + br) */
.pixel-wrap.diag_l,
.pixel-wrap.diag_l .pixel-panel {
    clip-path: polygon(
        /* 상단 → 우상단 직선 */ calc(5 * var(--u)) 0,
        100% 0,
        /* 우하단 계단 */ 100% calc(100% - calc(5 * var(--u))),
        calc(100% - var(--u)) calc(100% - calc(5 * var(--u))),
        calc(100% - var(--u)) calc(100% - calc(4 * var(--u))),
        calc(100% - calc(2 * var(--u))) calc(100% - calc(4 * var(--u))),
        calc(100% - calc(2 * var(--u))) calc(100% - calc(3 * var(--u))),
        calc(100% - calc(3 * var(--u))) calc(100% - calc(3 * var(--u))),
        calc(100% - calc(3 * var(--u))) calc(100% - calc(2 * var(--u))),
        calc(100% - calc(4 * var(--u))) calc(100% - calc(2 * var(--u))),
        calc(100% - calc(4 * var(--u))) calc(100% - var(--u)),
        calc(100% - calc(5 * var(--u))) calc(100% - var(--u)),
        calc(100% - calc(5 * var(--u))) 100%,
        /* 좌하단 → 좌측 계단으로 올라감 */ 0 100%,
        0 calc(5 * var(--u)),
        var(--u) calc(5 * var(--u)),
        var(--u) calc(4 * var(--u)),
        calc(2 * var(--u)) calc(4 * var(--u)),
        calc(2 * var(--u)) calc(3 * var(--u)),
        calc(3 * var(--u)) calc(3 * var(--u)),
        calc(3 * var(--u)) calc(2 * var(--u)),
        calc(4 * var(--u)) calc(2 * var(--u)),
        calc(4 * var(--u)) var(--u),
        calc(5 * var(--u)) var(--u)
    );
}

/* diag_r : 왼쪽하 ↗ 오른쪽상 (bl + tr) */
.pixel-wrap.diag_r,
.pixel-wrap.diag_r .pixel-panel {
    clip-path: polygon(
        0 0,
        calc(100% - calc(5 * var(--u))) 0,
        calc(100% - calc(5 * var(--u))) var(--u),
        calc(100% - calc(4 * var(--u))) var(--u),
        calc(100% - calc(4 * var(--u))) calc(2 * var(--u)),
        calc(100% - calc(3 * var(--u))) calc(2 * var(--u)),
        calc(100% - calc(3 * var(--u))) calc(3 * var(--u)),
        calc(100% - calc(2 * var(--u))) calc(3 * var(--u)),
        calc(100% - calc(2 * var(--u))) calc(4 * var(--u)),
        calc(100% - var(--u)) calc(4 * var(--u)),
        calc(100% - var(--u)) calc(5 * var(--u)),
        100% calc(5 * var(--u)),
        100% 100%,
        calc(5 * var(--u)) 100%,
        calc(5 * var(--u)) calc(100% - var(--u)),
        calc(4 * var(--u)) calc(100% - var(--u)),
        calc(4 * var(--u)) calc(100% - calc(2 * var(--u))),
        calc(3 * var(--u)) calc(100% - calc(2 * var(--u))),
        calc(3 * var(--u)) calc(100% - calc(3 * var(--u))),
        calc(2 * var(--u)) calc(100% - calc(3 * var(--u))),
        calc(2 * var(--u)) calc(100% - calc(4 * var(--u))),
        var(--u) calc(100% - calc(4 * var(--u))),
        var(--u) calc(100% - calc(5 * var(--u))),
        0 calc(100% - calc(5 * var(--u)))
    );
}

/* all4 : 네 코너 모두 계단 */
.pixel-wrap.all4,
.pixel-wrap.all4 .pixel-panel {
    clip-path: polygon(
        /* 상단 왼쪽 계단 → 상단 오른쪽 계단 */ calc(5 * var(--u)) 0,
        calc(100% - calc(5 * var(--u))) 0,
        calc(100% - calc(5 * var(--u))) var(--u),
        calc(100% - calc(4 * var(--u))) var(--u),
        calc(100% - calc(4 * var(--u))) calc(2 * var(--u)),
        calc(100% - calc(3 * var(--u))) calc(2 * var(--u)),
        calc(100% - calc(3 * var(--u))) calc(3 * var(--u)),
        calc(100% - calc(2 * var(--u))) calc(3 * var(--u)),
        calc(100% - calc(2 * var(--u))) calc(4 * var(--u)),
        calc(100% - var(--u)) calc(4 * var(--u)),
        calc(100% - var(--u)) calc(5 * var(--u)),
        100% calc(5 * var(--u)),
        /* 오른쪽 → 아래쪽 계단 */ 100% calc(100% - calc(5 * var(--u))),
        calc(100% - var(--u)) calc(100% - calc(5 * var(--u))),
        calc(100% - var(--u)) calc(100% - calc(4 * var(--u))),
        calc(100% - calc(2 * var(--u))) calc(100% - calc(4 * var(--u))),
        calc(100% - calc(2 * var(--u))) calc(100% - calc(3 * var(--u))),
        calc(100% - calc(3 * var(--u))) calc(100% - calc(3 * var(--u))),
        calc(100% - calc(3 * var(--u))) calc(100% - calc(2 * var(--u))),
        calc(100% - calc(4 * var(--u))) calc(100% - calc(2 * var(--u))),
        calc(100% - calc(4 * var(--u))) calc(100% - var(--u)),
        calc(100% - calc(5 * var(--u))) calc(100% - var(--u)),
        calc(100% - calc(5 * var(--u))) 100%,
        /* 하단 오른쪽 → 하단 왼쪽 계단 */ calc(5 * var(--u)) 100%,
        calc(5 * var(--u)) calc(100% - var(--u)),
        calc(4 * var(--u)) calc(100% - var(--u)),
        calc(4 * var(--u)) calc(100% - calc(2 * var(--u))),
        calc(3 * var(--u)) calc(100% - calc(2 * var(--u))),
        calc(3 * var(--u)) calc(100% - calc(3 * var(--u))),
        calc(2 * var(--u)) calc(100% - calc(3 * var(--u))),
        calc(2 * var(--u)) calc(100% - calc(4 * var(--u))),
        var(--u) calc(100% - calc(4 * var(--u))),
        var(--u) calc(100% - calc(5 * var(--u))),
        0 calc(100% - calc(5 * var(--u))),
        /* 왼쪽 아래 → 왼쪽 위 계단 */ 0 calc(5 * var(--u)),
        var(--u) calc(5 * var(--u)),
        var(--u) calc(4 * var(--u)),
        calc(2 * var(--u)) calc(4 * var(--u)),
        calc(2 * var(--u)) calc(3 * var(--u)),
        calc(3 * var(--u)) calc(3 * var(--u)),
        calc(3 * var(--u)) calc(2 * var(--u)),
        calc(4 * var(--u)) calc(2 * var(--u)),
        calc(4 * var(--u)) var(--u),
        calc(5 * var(--u)) var(--u)
    );
}
